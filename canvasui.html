<html>
	<head>
		<title>Canvas UI</title>
		<script type="application/javascript" src="canvasui.js"></script>
		<script type="application/javascript">

var ui;

function init(canvasId) {
	var canvas = document.getElementById(canvasId);
	ui = new CanvasUI.Gui(canvas);
	
	var window1 = new CanvasUI.Window("Window 1", 10, 10, 60, 60);
	ui.children.add(window1);
	
	var rect = window1.getClientRect();
	var window1button1 = new CanvasUI.Button("Button 1", rect.x, rect.y, 30, 30);
	window1.children.add(window1button1);
		
	var window2 = new CanvasUI.Window("Window 2", 20, 20, 100, 100);
	ui.children.add(window2);
		
	var window3 = new CanvasUI.Window("Window 3", 50, 50, 200, 200);
	ui.children.add(window3);
	//window3.enabled = false;
	
	rect = window3.getClientRect();
	var window3button1 = new CanvasUI.Button("some text", rect.x, rect.y, 100, 20);
	window3.children.add(window3button1);
		
	var window3button2 = new CanvasUI.Button("a button", rect.x, rect.y + 20, 100, 20);
	window3.children.add(window3button2);
	window3button2.enabled = false;
		
	// Define event handler for buttons
	var eventHandler = new CanvasUI.GadgetEventHandler();
	eventHandler.handleReleaseEvent = function(gadget, x, y) {
		alert('Released ' + gadget.text);
		gadget.parent.children.add(new CanvasUI.Button("new", 30, 30, 30, 30));
	}
	window3button1.eventHandlers.addHandler(eventHandler);
	window3button2.eventHandlers.addHandler(eventHandler);
	
	ui.show();
}

		</script>
	</head>
	
	<body onload="init('canvas')">
		<canvas id="canvas" width="400" height="400"></canvas>
	</body>
</html>