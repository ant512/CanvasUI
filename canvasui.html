<html>
	<head>
		<title>Canvas UI</title>
		<script type="application/javascript" src="canvasui.js"></script>
		<script type="application/javascript">

var ui;

function init(canvasId) {
	var canvas = document.getElementById(canvasId);
	ui = new CanvasUI.Gui(canvas);
	
	var window1 = new CanvasUI.Window("Window 1", 10, 10, 250, 150);
	ui.children.add(window1);
	
	var rect = window1.getClientRect();
	var window1button1 = new CanvasUI.Button("Button 1", rect.x, rect.y, 30, 30);
	window1.children.add(window1button1);
		
	var window2 = new CanvasUI.Window("Window 2", 20, 20, 300, 200);
	ui.children.add(window2);

	rect = window2.getClientRect();
	var window2label1 = new CanvasUI.Label("label", rect.x + 20, rect.y + 20, 50, 20);
	window2.children.add(window2label1);
		
	var window3 = new CanvasUI.Window("Window 3", 50, 50, 300, 200);
	ui.children.add(window3);
	//window3.enabled = false;
	
	rect = window3.getClientRect();
	var window3button1 = new CanvasUI.Button("some text", rect.x, rect.y, 100, 20);
	window3.children.add(window3button1);
		
	var window3button2 = new CanvasUI.Button("a button", rect.x, rect.y + 20, 100, 20);
	window3.children.add(window3button2);
	window3button2.enabled = false;
		
	// Define event handler for buttons
	window3button1.onRelease = function(gadget, x, y) {
		alert('Released ' + gadget.text);
	}

	window3button2.onRelease = function(gadget, x, y) {
		alert('Released ' + gadget.text);
	}
	
	var listbox = new CanvasUI.ListBox(rect.x, rect.y + 40, 100, 100);
	listbox.addOption("text 1", 0);
	listbox.addOption("text 2", 1);
	listbox.addOption("text 3", 2);
	listbox.addOption("text 4", 3);
	listbox.addOption("text 5", 4);
	listbox.addOption("text 6", 5);
	listbox.addOption("text 7", 6);
	listbox.addOption("text 8", 7);
	listbox.addOption("text 9", 8);
	listbox.addOption("text 10", 9);
	listbox.addOption("text 11", 10);
	listbox.addOption("text 12", 11);
	window3.children.add(listbox);

	var scrollbarVertical = new CanvasUI.ScrollbarVertical(rect.x + 100, rect.y + 40, 30, 100);
	window3.children.add(scrollbarVertical);

	scrollbarVertical.maximumValue = 10;
	scrollbarVertical.minimumValue = 0;
	scrollbarVertical.pageSize = 5;
	scrollbarVertical.value = 0;

	var scrollbarHorizontal = new CanvasUI.ScrollbarHorizontal(rect.x, rect.y + 140, 100, 30);
	window3.children.add(scrollbarHorizontal);

	scrollbarHorizontal.maximumValue = 10;
	scrollbarHorizontal.minimumValue = 0;
	scrollbarHorizontal.pageSize = 5;
	scrollbarHorizontal.value = 0;

	var window3label1 = new CanvasUI.Label("", rect.x + 100, rect.y + 140, 30, 30);
	window3label1.id = 1;
	window3.children.add(window3label1);

	scrollbarHorizontal.onValueChange = function(gadget) {
		gadget.parent.children.getGadgetById(1).setText(parseInt(gadget.value));
	}
}

		</script>
	</head>
	
	<body onload="init('canvas')">
		<canvas id="canvas" width="600" height="400"></canvas>
	</body>
</html>